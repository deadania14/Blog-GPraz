{% extends 'blog/base.html' %}
{% load staticfiles %}

{% block title_bl %}{{page_title}} - GPraz{% endblock %}

{% block body_bl %}
    <div class="container-fluid body">
        <div class="site-title">
            <h1>The road so far.</h1>
            <p>Hi, I'm an amateurcrastinator (not to be confused 
with procrastinator). <i>I'll explain later</i></p>
        </div>

        <div class="row">
            <div class="col-md-8">                
                {% for article in articles %}
                    <div class="container article-card">
                        <h2><a href="{{article.get_absolute_url}}">{{article.title}}</a></h2>
                        <span class="article-detail">
                            <img src="{% static 'image/calendar-2x.png' %}">
                            <small>{{article.created_at|date:'d M Y'}} </small>
                            <img src="{% static 'image/clock-2x.png' %}">
                            <small>{{article.created_at|date:'H:i'}} </small>
                            <img src="{% static 'image/eye-2x.png' %}">
                            <small>{{article.views}}</small>
                        </span>
                        <p>{{article.description}}</p>
                    </div>
                {% endfor %}
        
                <div class="pagination">
                    <span class="step-links">
                        {% if articles.has_previous %}
                            <a href="?page={{articles.previous_page_number}}">Newer posts</a>
                        {% endif %}
        
                        <span class="current">
                            Page {{articles.number}} of {{articles.paginator.num_pages}}
                        </span>
        
                        {% if articles.has_next %}
                            <a href="?page={{articles.next_page_number}}">Older posts</a>
                        {% endif %}
                    </span>
                </div>
            </div>

            <div class="col-md-4">
                <div class="tag-list">
                    {% if user.is_authenticated %}
                        Welcome, {{user.username}}
                    {% endif %}
                    <p>Tags:</p>
                    {% for tag in tags %}
                        <span><a href="{% url 'tag' tag_name=tag.name %}" class="btn btn-light btn-sm" role="button"><small>{{tag.name}}</small></a></span>
                    {% endfor %}
                </div>
            </div>
        </div>

    </div>
{% endblock %}
